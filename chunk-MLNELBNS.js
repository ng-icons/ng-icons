import{Gb as j,Ia as C,Qa as P,Ub as k,V as r,Y as n,aa as I,ab as _,ja as v,ka as w,m as y,qa as p,ra as N,xa as x}from"./chunk-2DE3QZL6.js";import{a as l,c as f}from"./chunk-2VMXMS7J.js";function G(t){return[{provide:h,useFactory:(c=n(h,{optional:!0,skipSelf:!0}))=>l(l({},c?.reduce((e,o)=>l(l({},e),o),{})),t),multi:!0}]}var h=new r("Icons Token");function E(){return n(h,{optional:!0})??[]}var O=new r("Ng Icon Pre Processor"),F=new r("Ng Icon Post Processor");function z(){return n(O,{optional:!0})??(t=>t)}function T(){return n(F,{optional:!0})??(()=>{})}var H=new r("Ng Icon Logger"),u=class{log(c){console.log(c)}warn(c){console.warn(c)}error(c){console.error(c)}};function L(){return n(H,{optional:!0})??new u}var $=new r("Ng Icon Config");function S(){return n($,{optional:!0})??{}}var q=new r("Ng Icon Loader Token");var B=new r("Ng Icon Cache Token");function M(){return n(q,{optional:!0})}function D(){return n(B,{optional:!0})}function R(t){return typeof t=="string"?Promise.resolve(t):y(t)?t.toPromise():t}function m(t){return t==null?"":/^\d+$/.test(t)?`${t}px`:t}function b(t){return t.replace(/([^a-zA-Z0-9])+(.)?/g,(c,e,o)=>o?o.toUpperCase():"").replace(/[^a-zA-Z\d]/g,"").replace(/^([A-Z])/,c=>c.toLowerCase())}var W=0,A=(()=>{class t{constructor(){this.config=S(),this.icons=E(),this.loader=M(),this.cache=D(),this.preProcessor=z(),this.postProcessor=T(),this.injector=n(v),this.renderer=n(C),this.platform=n(x),this.elementRef=n(N),this.uniqueId=W++,this.logger=L(),this.name=p(),this.svg=p(),this.size=p(this.config.size,{transform:m}),this.strokeWidth=p(this.config.strokeWidth),this.color=p(this.config.color),j(()=>this.updateIcon()),n(new w("aria-hidden"),{optional:!0})||this.elementRef.nativeElement.setAttribute("aria-hidden","true")}ngOnDestroy(){this.svgElement=void 0}updateIcon(){return f(this,null,function*(){let e=this.name(),o=this.svg();if(o!==void 0){this.setSvg(o);return}if(e===void 0)return;let i=b(e);for(let s of[...this.icons].reverse())if(s[i]){this.setSvg(s[i]);return}if(this.loader){let s=yield this.requestIconFromLoader(e);if(s!==null){this.setSvg(s);return}}this.logger.warn(`No icon named ${e} was found. You may need to import it using the withIcons function.`)})}setSvg(e){if(k(this.platform)){this.elementRef.nativeElement.innerHTML=e,this.elementRef.nativeElement.setAttribute("data-ng-icon-ssr","");return}if(this.elementRef.nativeElement.hasAttribute("data-ng-icon-ssr")&&(this.elementRef.nativeElement.removeAttribute("data-ng-icon-ssr"),this.svgElement=this.elementRef.nativeElement.querySelector("svg")??void 0,this.elementRef.nativeElement.innerHTML===e)||(this.svgElement&&this.renderer.removeChild(this.elementRef.nativeElement,this.svgElement),e===""))return;let o=this.renderer.createElement("template");e=this.replaceIds(e),this.renderer.setProperty(o,"innerHTML",this.preProcessor(e)),this.svgElement=o.content.firstElementChild,this.postProcessor(this.svgElement),this.renderer.appendChild(this.elementRef.nativeElement,this.svgElement)}replaceIds(e){if(!e.includes("ID_PLACEHOLDER_"))return e;let o=/ID_PLACEHOLDER_(\d+)/g,i=new Map,s=new Set(e.match(o));if(s===null)return e;for(let a of s){let g=a.replace("ID_PLACEHOLDER_",""),d=`ng-icon-${this.uniqueId}-${i.size}`;i.set(g,d),e=e.replace(new RegExp(a,"g"),d)}return e}requestIconFromLoader(e){return new Promise(o=>{I(this.injector,()=>f(this,null,function*(){if(this.cache){let a=this.cache.get(e);if(typeof a=="string"){o(a);return}if(a instanceof Promise){let g=yield a;o(g);return}}let i=R(this.loader(e));this.cache?.set(e,i);let s=yield i;this.cache?.set(e,s),o(s)}))})}static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=P({type:t,selectors:[["ng-icon"]],hostAttrs:["role","img"],hostVars:6,hostBindings:function(o,i){o&2&&_("--ng-icon__stroke-width",i.strokeWidth())("--ng-icon__size",i.size())("--ng-icon__color",i.color())},inputs:{name:[1,"name"],svg:[1,"svg"],size:[1,"size"],strokeWidth:[1,"strokeWidth"],color:[1,"color"]},decls:0,vars:0,template:function(o,i){},styles:["[_nghost-%COMP%]{display:inline-block;width:var(--ng-icon__size, 1em);height:var(--ng-icon__size, 1em);line-height:initial;vertical-align:initial;overflow:hidden}[_nghost-%COMP%]     svg{width:inherit;height:inherit;vertical-align:inherit}@layer ng-icon{[_nghost-%COMP%]{color:var(--ng-icon__color, currentColor)}}"],changeDetection:0})}}return t})();var ke=new r("Ng Glyph Config");var Le=new r("NgGlyphsToken");export{G as a,h as b,A as c};
